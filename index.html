<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WB: реклама есть — прибыли нет (бесплатный гайд)</title>
  <meta name="description" content="Полный бесплатный гайд по внутренней рекламе Wildberries: диагностика по воронке, поиск vs рекомендации, тесты, экономика с выкупом, шаблоны и план действий." />
  <style>
    :root{
      --bg:#0B0812;
      --card:#141022;
      --card2:#0F0B1A;
      --line:#2A2340;
      --text:#F3F4F6;
      --muted:#C7B9FF;
      --accent:#7C3AED;
      --accent2:#A78BFA;
      --shadow: 0 14px 34px rgba(0,0,0,.40);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 760px at 15% -10%, rgba(124,58,237,.28), transparent 60%),
        radial-gradient(900px 680px at 90% 5%, rgba(167,139,250,.16), transparent 55%),
        var(--bg);
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1160px;margin:0 auto;padding:20px 16px 72px}
    .top{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(11,8,18,.55);
      border-bottom: 1px solid rgba(42,35,64,.55);
    }
    .topin{
      max-width:1160px;margin:0 auto;padding:12px 16px;
      display:flex;gap:12px;align-items:center;justify-content:space-between;
    }
    .brand{display:flex;gap:10px;align-items:center;min-width:220px}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--accent);box-shadow:0 0 0 6px rgba(124,58,237,.12)}
    .brand b{font-size:14px;letter-spacing:.2px}
    .brand span{font-size:12px;color:rgba(199,185,255,.88)}
    .search{
      flex:1; min-width: 240px;
      display:flex; gap:10px; align-items:center;
      background: rgba(20,16,34,.85);
      border:1px solid rgba(42,35,64,.75);
      border-radius:14px;
      padding:10px 12px;
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
    }
    .search input{
      width:100%; border:0; outline:0; background:transparent;
      color:var(--text); font-size:14px;
    }
    .btn{
      border:1px solid rgba(42,35,64,.75);
      background: rgba(20,16,34,.85);
      color:var(--text);
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      transition: transform .12s ease, border-color .12s ease;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(124,58,237,.55)}
    .btn.primary{border-color: rgba(124,58,237,.55); background: rgba(124,58,237,.18)}
    .hero{
      margin-top:18px;
      background: linear-gradient(180deg, rgba(20,16,34,.92), rgba(20,16,34,.72));
      border:1px solid rgba(42,35,64,.85);
      border-radius: var(--radius);
      padding:18px;
      box-shadow: var(--shadow);
    }
    h1{
      margin:10px 0 10px;
      font-size:30px;
      line-height:1.15;
      letter-spacing:-.2px;
    }
    .lead{
      margin:0;
      color: rgba(199,185,255,.92);
      line-height:1.7;
      max-width: 920px;
      font-size:14.5px;
    }
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      font-size:12px;color:rgba(199,185,255,.90);
      padding:7px 10px;border-radius:999px;
      border:1px solid rgba(42,35,64,.80);
      background: rgba(11,8,18,.28);
    }

    .grid{
      display:grid; gap:12px; margin-top:14px;
      grid-template-columns:1fr;
    }
    @media(min-width:1020px){ .grid{grid-template-columns:360px 1fr;} }

    .side, .content{
      background: rgba(20,16,34,.68);
      border:1px solid rgba(42,35,64,.85);
      border-radius: var(--radius);
      box-shadow: 0 12px 24px rgba(0,0,0,.26);
    }
    .side{
      padding:14px;
      position: sticky;
      top: 70px;
      height: fit-content;
    }
    .side h3{
      margin:2px 0 10px;
      font-size:13px;
      color: rgba(167,139,250,.95);
      letter-spacing:.2px;
      text-transform: uppercase;
    }
    .toc{display:flex;flex-direction:column;gap:8px;max-height: calc(100vh - 170px); overflow:auto; padding-right:6px}
    .toc a{
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(42,35,64,.75);
      background: rgba(11,8,18,.22);
      color:rgba(243,244,246,.92);
      font-size:13px;
      line-height:1.25;
    }
    .toc a:hover{border-color: rgba(124,58,237,.55)}
    .note{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px dashed rgba(42,35,64,.9);
      color:rgba(199,185,255,.90);
      font-size:12px;
      line-height:1.55;
      background: rgba(11,8,18,.20);
    }
    .content{padding:14px}

    .section{
      border:1px solid rgba(42,35,64,.78);
      background: rgba(11,8,18,.18);
      border-radius: 16px;
      padding:14px 14px 12px;
      margin-bottom:12px;
    }
    .section h2{
      margin:0 0 8px;
      font-size:18px;
      color: rgba(167,139,250,.98);
      letter-spacing:-.15px;
    }
    .meta{
      display:flex;gap:8px;flex-wrap:wrap;
      margin:8px 0 10px;
    }
    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(42,35,64,.78);
      background: rgba(20,16,34,.45);
      color: rgba(199,185,255,.92);
    }

    details{
      margin-top:10px;
      border-top:1px solid rgba(42,35,64,.55);
      padding-top:10px;
    }
    summary{
      cursor:pointer;
      font-weight:800;
      color:rgba(243,244,246,.96);
      list-style:none;
    }
    summary::-webkit-details-marker{display:none}

    .text{
      color: rgba(199,185,255,.92);
      font-size:14px;
      line-height:1.75;
    }
    .text b{color: rgba(243,244,246,.96)}
    ul,ol{margin:8px 0 10px 18px; padding:0}
    li{margin:6px 0}
    .box{
      margin-top:10px;
      border:1px solid rgba(42,35,64,.78);
      background: rgba(20,16,34,.50);
      border-radius: 14px;
      padding:10px 12px;
    }
    .box b{color: rgba(243,244,246,.96)}
    .hr{height:1px;background:rgba(42,35,64,.55);margin:12px 0}

    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      white-space:pre-wrap;
      word-break:break-word;
      color: rgba(243,244,246,.95);
    }

    .cols{display:grid;gap:10px;grid-template-columns:1fr}
    @media(min-width:900px){.cols{grid-template-columns:1fr 1fr}}

    .input{
      width:100%;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(42,35,64,.78);
      background: rgba(11,8,18,.25);
      color: rgba(243,244,246,.95);
      outline: none;
      font-size:14px;
    }
    .hint{font-size:12px;color:rgba(199,185,255,.78);margin-top:6px;line-height:1.5}

    mark{
      background: rgba(124,58,237,.32);
      color: rgba(243,244,246,.98);
      padding: 0 2px;
      border-radius: 6px;
    }
    .foot{
      margin-top:14px;
      color: rgba(199,185,255,.78);
      font-size:12px;
      line-height:1.6;
    }
  </style>
</head>
<body>

<div class="top">
  <div class="topin">
    <div class="brand">
      <div class="dot"></div>
      <div>
        <b>Денис • внутренняя реклама WB</b><br>
        <span>бесплатный гайд (онлайн)</span>
      </div>
    </div>

    <div class="search" title="Поиск по гайду">
      <span style="color:rgba(199,185,255,.78);font-size:12px">Поиск</span>
      <input id="q" placeholder="например: CTR, корзина, выкуп, рекомендации, ставки, A/B фото" />
      <button class="btn" id="clear">Очистить</button>
    </div>

    <button class="btn primary" id="copyPack">Скопировать CTA + чек-лист</button>
  </div>
</div>

<div class="wrap">
  <div class="hero">
    <div class="chips">
      <div class="chip">Читается с телефона</div>
      <div class="chip">Диагностика по воронке</div>
      <div class="chip">Поиск vs рекомендации</div>
      <div class="chip">Тесты и экономика</div>
      <div class="chip">Шаблоны</div>
    </div>
    <h1>Реклама на WB есть, показы и клики есть — а прибыли нет</h1>
    <p class="lead">
      Реклама — это управляемая система. Она становится “дорогой” не из-за мифических алгоритмов, а когда
      непонятно, <b>на каком шаге</b> теряются деньги в пути покупателя:
      <b>показы → клики → карточка → корзина → заказ → выкуп</b>.
      Здесь — структурный бесплатный гайд: причины, проверки, решения, типовые ошибки и план действий.
    </p>
  </div>

  <div class="grid">
    <aside class="side">
      <h3>Оглавление</h3>
      <div class="toc">
        <a href="#s1">1) Воронка и “узкое место”</a>
        <a href="#s2">2) Источники трафика: поиск / рекомендации</a>
        <a href="#s3">3) Низкий CTR: витрина и главное фото</a>
        <a href="#s4">4) Клики есть, корзина слабая: карточка</a>
        <a href="#s5">5) Корзина есть, заказов мало: последний шаг</a>
        <a href="#s6">6) Заказы есть, но реклама “дорогая”: логика</a>
        <a href="#s7">7) Выкуп: как считать прибыль правильно</a>
        <a href="#s8">8) A/B тест главного фото: протокол</a>
        <a href="#s9">9) Нецелевой трафик: признаки и корректировка</a>
        <a href="#s10">10) Ставки и масштабирование: когда трогать</a>
        <a href="#s11">11) Ошибки, которые чаще всего стоят денег</a>
        <a href="#s12">12) План на 7 дней (3 сценария)</a>
        <a href="#s13">13) Шаблоны: журнал тестов и гипотез</a>
        <a href="#s14">14) Мини-калькулятор “потолка” по рекламе</a>
        <a href="#s15">15) CTA для Threads и логичный переход</a>
      </div>

      <div class="note">
        <b>Как использовать в Threads:</b><br>
        В конце поста: “Напиши ‘чек’ — пришлю ссылку на гайд (в профиле / TG)”.<br>
        В TG — закреп с этой ссылкой.
      </div>
    </aside>

    <main class="content" id="content">

      <section class="section" id="s1">
        <h2>1) Воронка и “узкое место”</h2>
        <div class="meta">
          <span class="pill">Цель: найти шаг потери</span>
          <span class="pill">Фокус: 1 приоритет за раз</span>
        </div>

        <div class="box">
          <b>Суть:</b> вместо “реклама не работает” нужно найти <b>узкое место</b> в пути покупателя.
          Дальше — одно улучшение → фиксация → вывод.
        </div>

        <details open>
          <summary>Причины</summary>
          <div class="text">
            Внутри WB всё связано. Любая слабость в карточке или ожиданиях превращается в рост расходов.
          </div>
        </details>

        <details>
          <summary>Проверка</summary>
          <div class="text">
            Быстрая карта:
            <ul>
              <li><b>CTR низкий</b> → витрина: фото/цена/доверие.</li>
              <li><b>Клики есть, корзина слабая</b> → карточка: смысл 1 экрана/конкретика/возражения.</li>
              <li><b>Корзина есть, заказов мало</b> → последний шаг: доставка/варианты/цена/ожидания.</li>
              <li><b>Прибыль не сходится</b> → считать по выкупу.</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Выбираешь один приоритет (фото / 1 экран / доверие / трафик / выкуп), запускаешь тест и фиксируешь в журнале.
          </div>
        </details>

        <details>
          <summary>Типовые ошибки</summary>
          <div class="text">
            Менять всё одновременно, делать выводы за 1 день, смотреть только CTR/CPC без экономики по выкупу.
          </div>
        </details>
      </section>

      <section class="section" id="s2">
        <h2>2) Источники трафика: поиск / рекомендации</h2>
        <div class="meta">
          <span class="pill">Разное намерение</span>
          <span class="pill">Разная подача</span>
        </div>

        <details open>
          <summary>Причины</summary>
          <div class="text">
            В поиске человек уже “хочет купить” и сравнивает. В рекомендациях он “смотрит ленту” — нужно зацепить быстрее и проще.
          </div>
        </details>

        <details>
          <summary>Проверка</summary>
          <div class="text">
            Если кликов много, а корзины мало — часто источник даёт “интерес”, но не покупку.
            Тогда нужно адаптировать оффер/фото под источник или сужать трафик.
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Поиск: конкретика + отличие + доверие. Рекомендации: визуальный крючок + простая выгода.
          </div>
        </details>

        <details>
          <summary>Типовые ошибки</summary>
          <div class="text">
            Одинаковое фото и одинаковый оффер для разных источников.
          </div>
        </details>
      </section>

      <section class="section" id="s3">
        <h2>3) Низкий CTR: витрина и главное фото</h2>
        <div class="meta">
          <span class="pill">1–3 секунды</span>
          <span class="pill">Фото = экономика</span>
        </div>

        <details open>
          <summary>Причины</summary>
          <div class="text">
            Главное фото не объясняет “что это/для кого/почему выгодно”, либо цена выше ожиданий без доказательства ценности.
          </div>
        </details>

        <details>
          <summary>Проверка</summary>
          <div class="text">
            Ответь честно:
            <ul>
              <li>За 1 секунду понятно, <b>что это</b>?</li>
              <li>За 3 секунды понятно, <b>в чём выгода</b>?</li>
              <li>Есть <b>доказательство</b> (деталь/качество/комплект/результат)?</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Сделай 2–3 версии главного фото под разные гипотезы: выгода / качество-деталь / комплект.
            Тестируй честно (раздел 8).
          </div>
        </details>

        <details>
          <summary>Типовые ошибки</summary>
          <div class="text">
            “Красивое” фото без смысла, перегруз текстом на кадре, тесты без равных условий.
          </div>
        </details>
      </section>

      <section class="section" id="s4">
        <h2>4) Клики есть, корзина слабая: карточка</h2>
        <div class="meta">
          <span class="pill">Смысл 1 экрана</span>
          <span class="pill">Конкретика</span>
        </div>

        <details open>
          <summary>Причины</summary>
          <div class="text">
            Человек кликнул, но не получил ответа “что получу” и “почему это стоит своих денег”.
          </div>
        </details>

        <details>
          <summary>Проверка</summary>
          <div class="text">
            Проверь первые 3–5 фото: есть ли конкретика по материалу/посадке/комплекту/размеру и сняты ли главные вопросы покупателя.
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Структура: 1 экран (выгода + 1–2 доказательства) → конкретика (материал/детали) → ответы на возражения (упаковка/уход/посадка).
          </div>
        </details>

        <details>
          <summary>Типовые ошибки</summary>
          <div class="text">
            Писать “для робота”, вместо того чтобы показать и доказать.
          </div>
        </details>
      </section>

      <section class="section" id="s5">
        <h2>5) Корзина есть, заказов мало: последний шаг</h2>
        <div class="meta">
          <span class="pill">Доставка/варианты</span>
          <span class="pill">Цена/ожидания</span>
        </div>

        <details open>
          <summary>Причины</summary>
          <div class="text">
            На финальном шаге часто “побеждают” доставка, наличие нужного размера/цвета и сравнение с конкурентами.
          </div>
        </details>

        <details>
          <summary>Проверка</summary>
          <div class="text">
            <ul>
              <li>Есть ли ключевые варианты в наличии?</li>
              <li>Как выглядят сроки доставки рядом с топ-конкурентами?</li>
              <li>Цена соответствует ожиданиям, которые сформировались на витрине?</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Стабилизируй наличие и сроки. Если цена выше — усили доказательства ценности в первых экранах.
          </div>
        </details>

        <details>
          <summary>Типовые ошибки</summary>
          <div class="text">
            Пытаться “лечить ставкой” то, что ломается условиями покупки.
          </div>
        </details>
      </section>

      <section class="section" id="s6">
        <h2>6) Заказы есть, но реклама “дорогая”: логика</h2>
        <div class="meta">
          <span class="pill">Цель: прибыль</span>
          <span class="pill">Метрики — связкой</span>
        </div>

        <div class="box">
          <b>Принцип:</b> ставка усиливает то, что уже работает. Поэтому сначала — конверсия и доверие, потом — масштаб.
        </div>

        <details open>
          <summary>Проверка</summary>
          <div class="text">
            Смотри связку: CTR → CPC → корзина/клик → заказ/клик → выкуп. Одна “красивая” цифра ничего не решает.
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Подними конверсию на шаге, который проседает, и только затем добавляй трафик.
          </div>
        </details>
      </section>

      <section class="section" id="s7">
        <h2>7) Выкуп: как считать прибыль правильно</h2>
        <div class="meta">
          <span class="pill">Считать по выкупу</span>
          <span class="pill">Иначе картина ложная</span>
        </div>

        <details open>
          <summary>Формулы</summary>
          <div class="box">
            <div class="code">Стоимость заказа = расход / заказы
Стоимость выкупленного заказа = расход / (заказы × выкуп)</div>
          </div>
        </details>

        <details>
          <summary>Вывод</summary>
          <div class="text">
            Если стоимость выкупленного заказа выше маржи — реклама уводит в минус, даже если “заказы есть”.
          </div>
        </details>
      </section>

      <section class="section" id="s8">
        <h2>8) A/B тест главного фото: протокол</h2>
        <div class="meta">
          <span class="pill">1 параметр</span>
          <span class="pill">Равные условия</span>
        </div>

        <details open>
          <summary>Проверка и правила</summary>
          <div class="text">
            Меняем только фото. Не трогаем цену/ставку/описание/остатки. Сравниваем в одинаковые часы и по одинаковому объёму.
          </div>
        </details>

        <details>
          <summary>Как выбрать победителя</summary>
          <div class="text">
            Победитель — тот, кто улучшает экономику: CTR → CPC → корзина/клик → заказ/клик.
          </div>
        </details>
      </section>

      <section class="section" id="s9">
        <h2>9) Нецелевой трафик: признаки и корректировка</h2>
        <div class="meta">
          <span class="pill">Клики ≠ покупки</span>
          <span class="pill">Сужение и адаптация</span>
        </div>

        <details open>
          <summary>Признаки</summary>
          <div class="text">
            Кликов много, а корзина/клик низкая. Или корзина есть, а заказов мало без явных причин в карточке.
          </div>
        </details>

        <details>
          <summary>Решение</summary>
          <div class="text">
            Сузь запросы/аудиторию, адаптируй фото и оффер под источник, убери “всё для всех”.
          </div>
        </details>
      </section>

      <section class="section" id="s10">
        <h2>10) Ставки и масштабирование: когда трогать</h2>
        <div class="meta">
          <span class="pill">72 часа без паники</span>
          <span class="pill">Масштаб только при устойчивости</span>
        </div>

        <details open>
          <summary>Правило</summary>
          <div class="text">
            Если нет критических причин, не делай выводы раньше 72 часов. Масштабируй, когда связка держит конверсию и прибыль по выкупу.
          </div>
        </details>
      </section>

      <section class="section" id="s11">
        <h2>11) Ошибки, которые чаще всего стоят денег</h2>
        <details open>
          <summary>Список</summary>
          <div class="text">
            <ul>
              <li>Запуск на слабой карточке без смысла и конкретики.</li>
              <li>Изменения “всё сразу” → невозможно понять причину результата.</li>
              <li>Опора на CPC/CTR без расчёта по выкупу и марже.</li>
              <li>Частые ручные вмешательства без окна оценки.</li>
            </ul>
          </div>
        </details>
      </section>

      <section class="section" id="s12">
        <h2>12) План на 7 дней (3 сценария)</h2>
        <details open>
          <summary>Сценарий A: CTR проседает</summary>
          <div class="text">
            День 1–3: 2–3 версии главного фото → тест по протоколу. День 4: закрепить победителя. День 5–7: аккуратно увеличить трафик при сохранении экономики.
          </div>
        </details>

        <details>
          <summary>Сценарий B: клики есть, корзина слабая</summary>
          <div class="text">
            День 1–2: усилить 1 экран и первые 3–5 фото (конкретика + возражения). День 3–7: тестировать одну гипотезу за раз.
          </div>
        </details>

        <details>
          <summary>Сценарий C: прибыль ломает выкуп</summary>
          <div class="text">
            День 1: найти разрыв ожиданий. День 2–4: добавить доказательства качества/комплекта/деталей. День 5–7: стабилизировать и только потом масштабировать.
          </div>
        </details>
      </section>

      <section class="section" id="s13">
        <h2>13) Шаблоны: журнал тестов и гипотез</h2>
        <div class="meta">
          <span class="pill">Копируй и используй</span>
        </div>

        <div class="box">
          <div class="code" id="journalTpl">Дата/период:
Что изменил (1 параметр):
Цель (какую метрику улучшаю):
Условия (источник/ставка/время/объём):
До → после (CTR/CPC/корзина/заказы/выкуп):
Вывод (оставляю / откатываю / повторяю):</div>
          <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button class="btn" id="copyJournal">Скопировать журнал</button>
            <span class="hint">Один тест = одно изменение.</span>
          </div>
        </div>

        <div class="box" style="margin-top:10px">
          <div class="code" id="hypTpl">Я меняю [X], чтобы улучшить [Y], потому что [Z]. Оцениваю через 72 часа по метрикам: [CTR/CPC/корзина/заказ/выкуп].</div>
          <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button class="btn" id="copyHyp">Скопировать шаблон гипотезы</button>
            <span class="hint">Так ты всегда понимаешь, что именно дало результат.</span>
          </div>
        </div>
      </section>

      <section class="section" id="s14">
        <h2>14) Мини-калькулятор “потолка” по рекламе</h2>
        <div class="meta">
          <span class="pill">Ориентир для решений</span>
          <span class="pill">С учётом выкупа</span>
        </div>

        <div class="cols">
          <div class="box">
            <b>Ввод</b>
            <div style="display:grid;gap:10px;margin-top:10px">
              <div>
                <div class="hint">Маржа на 1 выкуп (₽)</div>
                <input class="input" id="margin" type="number" value="450" />
              </div>
              <div>
                <div class="hint">Выкуп (%)</div>
                <input class="input" id="buyout" type="number" value="60" />
              </div>
              <div>
                <div class="hint">Конверсия клик→заказ (%)</div>
                <input class="input" id="cr" type="number" value="2" />
              </div>
            </div>
            <div class="hint">Это ориентир, чтобы перестать гадать “дорого/недорого”.</div>
          </div>

          <div class="box">
            <b>Результат</b>
            <div class="hr"></div>
            <div class="text" id="calcOut"></div>
            <div class="hr"></div>
            <div class="hint">Если потолок слишком низкий — задача в конверсии/выкупе, а не в “магии”.</div>
          </div>
        </div>
      </section>

      <section class="section" id="s15">
        <h2>15) CTA для Threads и логичный переход</h2>
        <div class="meta">
          <span class="pill">Без “обещали — не дали”</span>
        </div>

        <div class="box">
          <div class="code" id="ctaTpl">Хочешь чек-лист/шаблон по теме поста? Напиши в комментариях слово “чек” — и я пришлю ссылку, где забрать (Telegram, ссылка в профиле).</div>
          <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button class="btn" id="copyCTA">Скопировать CTA</button>
            <span class="hint">В TG закрепи ссылку на этот гайд.</span>
          </div>
        </div>

        <div class="box" style="margin-top:10px">
          <div class="code" id="replyTpl">Ссылка на гайд — в профиле. В Telegram в закрепе лежит полный материал и шаблоны.</div>
          <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button class="btn" id="copyReply">Скопировать ответ</button>
            <span class="hint">Можно сделать 3 вариации ответа, чтобы не повторяться.</span>
          </div>
        </div>

        <div class="foot">
          Этот гайд — один файл <b>index.html</b>. Его удобно разместить на GitHub Pages и читать онлайн.
        </div>
      </section>

    </main>
  </div>
</div>

<script>
  const q = document.getElementById('q');
  const clearBtn = document.getElementById('clear');
  const content = document.getElementById('content');

  function norm(s){ return (s||'').toLowerCase().trim(); }

  function removeMarks(root){
    root.querySelectorAll('mark').forEach(m=>{
      const t = document.createTextNode(m.textContent);
      m.replaceWith(t);
    });
  }

  function highlight(root, query){
    removeMarks(root);
    if(!query) return;

    const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null);
    const nodes = [];
    while(walker.nextNode()) nodes.push(walker.currentNode);

    nodes.forEach(node=>{
      const val = node.nodeValue;
      const low = val.toLowerCase();
      const idx = low.indexOf(query);
      if(idx === -1) return;

      const before = val.slice(0, idx);
      const match  = val.slice(idx, idx + query.length);
      const after  = val.slice(idx + query.length);

      const mark = document.createElement('mark');
      mark.textContent = match;

      const frag = document.createDocumentFragment();
      frag.appendChild(document.createTextNode(before));
      frag.appendChild(mark);
      frag.appendChild(document.createTextNode(after));
      node.parentNode.replaceChild(frag, node);
    });
  }

  function filter(query){
    const nq = norm(query);
    const sections = content.querySelectorAll('.section');
    sections.forEach(s=>{
      const txt = norm(s.innerText);
      const show = !nq || txt.includes(nq);
      s.style.display = show ? '' : 'none';
      if(show && nq){
        s.querySelectorAll('details').forEach(d=>{
          const t = norm(d.innerText);
          if(t.includes(nq)) d.open = true;
        });
      }
    });
    highlight(content, nq);
  }

  q.addEventListener('input', (e)=>filter(e.target.value));
  clearBtn.addEventListener('click', ()=>{ q.value=''; filter(''); });

  async function copyText(btn, text, okLabel='Скопировано', backLabel){
    try{
      await navigator.clipboard.writeText(text);
      const old = btn.textContent;
      btn.textContent = okLabel;
      setTimeout(()=>btn.textContent = backLabel || old, 1200);
    }catch(e){
      alert('Не удалось скопировать. Скопируй вручную.');
    }
  }

  document.getElementById('copyPack').addEventListener('click', ()=>{
    const pack =
`CTA для Threads:
Хочешь чек-лист/шаблон по теме поста? Напиши в комментариях слово “чек” — и я пришлю ссылку, где забрать (Telegram, ссылка в профиле).

Короткий чек-лист:
1) Низкий CTR → фото / цена / доверие.
2) Клики есть, корзина слабая → 1 экран / конкретика / возражения.
3) Корзина есть, заказов мало → доставка / варианты / цена / ожидания.
4) “Дорого” → сначала конверсия и выкуп, потом масштаб.
5) Прибыль считаем по выкупу.`;
    copyText(document.getElementById('copyPack'), pack, 'Скопировано', 'Скопировать CTA + чек-лист');
  });

  document.getElementById('copyJournal').addEventListener('click', ()=>{
    copyText(document.getElementById('copyJournal'), document.getElementById('journalTpl').innerText);
  });
  document.getElementById('copyHyp').addEventListener('click', ()=>{
    copyText(document.getElementById('copyHyp'), document.getElementById('hypTpl').innerText);
  });
  document.getElementById('copyCTA').addEventListener('click', ()=>{
    copyText(document.getElementById('copyCTA'), document.getElementById('ctaTpl').innerText);
  });
  document.getElementById('copyReply').addEventListener('click', ()=>{
    copyText(document.getElementById('copyReply'), document.getElementById('replyTpl').innerText);
  });

  // Mini calculator
  const margin = document.getElementById('margin');
  const buyout = document.getElementById('buyout');
  const cr = document.getElementById('cr');
  const out = document.getElementById('calcOut');

  function n(v){ const x = Number(v); return isFinite(x) ? x : 0; }
  function fmt(x){ return Math.round(x).toLocaleString('ru-RU'); }

  function calc(){
    const m = n(margin.value);
    const b = n(buyout.value) / 100;
    const c = n(cr.value) / 100;

    const ordersPer100 = 100 * c;
    const buyoutsPer100 = ordersPer100 * b;
    const maxSpendPer100Clicks = buyoutsPer100 * m;
    const maxCPC = maxSpendPer100Clicks / 100;

    const maxCPO = ordersPer100 > 0 ? maxSpendPer100Clicks / ordersPer100 : 0;
    const maxCostPerBuyout = buyoutsPer100 > 0 ? maxSpendPer100Clicks / buyoutsPer100 : 0;

    out.innerHTML = `
      <b>Ориентиры по введённым данным:</b><br>
      • Заказов на 100 кликов: <b>${ordersPer100.toFixed(1)}</b><br>
      • Выкупленных на 100 кликов: <b>${buyoutsPer100.toFixed(1)}</b><br><br>
      <b>Потолок по рекламе (в ноль по марже):</b><br>
      • CPC: <b>${fmt(maxCPC)} ₽</b><br>
      • Стоимость заказа: <b>${fmt(maxCPO)} ₽</b><br>
      • Стоимость выкупленного заказа: <b>${fmt(maxCostPerBuyout)} ₽</b>
    `;
  }
  [margin, buyout, cr].forEach(el=>el.addEventListener('input', calc));
  calc();

  filter('');
</script>

</body>
</html>
